# 常用指令

## docker

### docker images列表

`sudo docker images`

### docker build image

`sudo docker build . -t {NAME}`

### docker remove image

`sudo docker rmi -f {id}`

### docker-compose 執行指令

`sudo docker-compose run app sh -c "{指令}"`

#### django 創建 app

`docker-compose run app sh -c "python manage.py startapp {APP name}"`

#### django 製作待建立sql動作清單

`sudo docker-compose run app sh -c "python manage.py makemigrations"`

#### django 執行製作資料庫動作

`sudo docker-compose run app sh -c "python manage.py migrate"`

### docker compose up

`sudo docker-compose up`

### docker pull on Synology

`https://hub.docker.com/silver0416/iotapp-server`

## pip

### requirements

`pip install -r requirements.txt`

# 新REST API運作流程

## 1.註冊用戶

[localhost](http://localhost:8000/dj-rest-auth/registration/)

[api.bap5.cc](https://api.bap5.cc/dj-rest-auth/registration/)

## 2.認證信箱


*Hello from example.com!*

*You're receiving this e-mail because user silver has given your e-mail address to register an account on example.com.*

*To confirm this is correct, go to http://localhost:8000/dj-rest-auth/registration/account-confirm-email/**Ng:1oI3JA:iiCXBMPKCp8fpImpDq5Ilc0cFGbwGUTCC9sF-gj9EKo**/*

*Thank you for using example.com!*

[Verify Email(localhost)](http://localhost:8000/dj-rest-auth/account-confirm-email/)

[Verify Email](https://api.bap5.cc/dj-rest-auth/account-confirm-email/)

將粗體字複製貼上並post

```json
HTTP 200 OK
Allow: POST, OPTIONS, HEAD
Content-Type: application/json
Vary: Accept

{
    "detail": "ok"
}

```

## 3. 輸入信箱密碼登入

```json
HTTP 200 OK
Allow: GET, HEAD, OPTIONS
Content-Type: application/json
Vary: Accept

{
    "user": "http://localhost:8000/user/",
    "user_belong_home": "http://localhost:8000/user_belong_home/",
    "home_list": "http://localhost:8000/home_list/",
    "added_device_list": "http://localhost:8000/added_device_list/",
    "device_type": "http://localhost:8000/device_type/",
    "alive_verification_code": "http://localhost:8000/alive_verification_code/",
    "category": "http://localhost:8000/category/",
    "device_data": "http://localhost:8000/device_data/"
}
```

### 使用 http
